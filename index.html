<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Infografía Scroll Larga</title>
  <link href="https://fonts.googleapis.com/css2?family=DynaPuff:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* --- Estilos CSS (sin cambios relevantes para esta funcionalidad, se mantienen los anteriores) --- */
    body, html {
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      font-family: 'DynaPuff', cursive;
      background: black;
    }
    .pantalla-inicio {
      position: fixed;
      z-index: 9999;
      width: 100vw;
      height: 100vh;
      background: black;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      transition: opacity 1s ease;
    }
    .pantalla-inicio.hidden {
      opacity: 0;
      pointer-events: none;
    }
    .intro-title {
      font-size: 2.4rem;
      color: #ffff00;
      text-shadow: 0 0 10px #ffff00, 0 0 20px #ffff00;
      margin-bottom: 10px;
      margin-top: -40px;
    }
    .cerebro-container {
      position: relative;
      width: 375px;
      height: 375px;
      margin-bottom: 40px;
    }
    .cerebro-container img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
    }
    .corazon {
      position: absolute;
      width: 24px;
      height: 24px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation: latir 1.2s infinite ease-in-out;
    }
    @keyframes latir {
      0%, 100% { transform: translate(-50%, -50%) scale(1); }
      50% { transform: translate(-50%, -50%) scale(1.2); }
    }
    #continuarBtn {
      font-family: 'DynaPuff', cursive;
      font-size: 2rem;
      background: none;
      border: none;
      color: #ff0000;
      cursor: pointer;
      text-shadow: 0 0 10px #ff0000, 0 0 20px #ff0000;
    }
    .autor {
      font-size: 0.8rem;
      color: white;
      margin-top: 1rem;
    }
    .infografia {
      display: none;
      width: 1000px; /* Considera usar % o vw para mejor responsividad */
      height: 10000px;
      margin: 0 auto;
      background: linear-gradient(to bottom,
        #000000 0%,
        #000000 45%,
        #f5f5f5 55%,
        #f0f0f0 70%,
        #ffffff 100%
      );
      position: relative;
      overflow: hidden; /* Se mantiene para controlar elementos internos */
    }
    .titulo-principal, .titulo-blanco {
      font-size: 3rem;
      width: 100%;
      text-align: center;
      position: absolute;
    }
    .titulo-principal {
      top: 200px;
      color: #fff;
      text-shadow: 0 0 10px #fff, 0 0 20px #fff;
    }
    .subtitulo {
      font-size: 1.5rem;
      color: #c084fc;
      text-shadow: 0 0 10px #c084fc, 0 0 20px #c084fc;
    }
    .titulo-blanco {
      top: 5600px;
      color: #000;
      text-shadow: 0 0 10px #000, 0 0 20px #000;
    }
    .sub-blanco {
      font-size: 1.5rem;
      color: #22d3ee;
      text-shadow: 0 0 10px #22d3ee, 0 0 20px #22d3ee;
    }

    /* Estilos para elementos que aparecen con scroll */
    .cita-texto, #izquierdaContenido, .mensaje-adicional, .mensaje-derecha, .cita-blanca, .mensaje-derecha-adicional, .texto-mitad {
      position: absolute;
      font-size: 1.4rem;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 1s ease-out, transform 1s ease-out;
    }
    .cita-texto.visible, #izquierdaContenido.visible, .mensaje-adicional.visible, .mensaje-derecha.visible, .cita-blanca.visible, .mensaje-derecha-adicional.visible, .texto-mitad.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .cita-texto {
      top: 500px;
      width: 100%;
      text-align: center;
      color: white;
      padding: 0 2rem;
    }

    /* Contenedor para texto izquierdo y video */
    #izquierdaContenido {
      top: 800px;
      left: 5%;
      width: 90%; /* Ajusta según necesidad */
      display: flex;
      align-items: flex-start; /* Alinea arriba */
       /* Asegura que no bloquee clics si es invisible */
      pointer-events: none;
    }
    #izquierdaContenido.visible {
       /* Permite interacción cuando es visible */
       pointer-events: auto;
    }


    /* Estilos modificados para el texto izquierdo */
    .mensaje-izquierda {
      width: 50%; /* Ajusta para dejar espacio al video */
      color: white;
      text-align: left;
      line-height: 1.5;
      padding-right: 20px; /* Espacio entre texto y video */
      font-size: 1.4rem; /* Asegura que el tamaño de fuente se mantenga */
    }

    /* Contenedor para el video */
    #videoIzquierda {
      margin-top: 50px;
        width: 50%; /* Ajusta para ocupar el espacio restante */
    }
    #videoIzquierda video {
        max-width: 100%; /* Asegura que el video no se desborde */
        height: auto;
        display: block; /* Evita espacio extra debajo */
        border: 1px solid #555; /* Borde opcional */
        /* cursor: pointer; Opcional: indica que se puede interactuar */
    }

    #videoDerecha {
      position: absolute;
      top: 1700px; /* Alineado con el texto a la derecha */
      right: 50%; /* Ajustado para estar al lado del texto */
      width: 45%; /* Ajusta el ancho según sea necesario */
    }
    #videoDerecha video {
      max-width: 100%;
      height: auto;
      display: block;
      border: 1px solid #555;
    }

    .mensaje-adicional {
      top: 1200px; /* Ajusta si el contenido anterior ocupa más espacio */
      left: 5%;
      width: 90%;
      color: white;
      text-align: left;
      line-height: 1.5;
    }
    .mensaje-derecha {
      top: 1500px; /* Ajusta si el contenido anterior ocupa más espacio */
      right: 5%; /* Cambiado de 0% a 5% para consistencia */
      width: 50%;
      color: white;
      text-align: right;
      line-height: 1.5;
    }
    .mensaje-derecha-adicional {
      position: absolute;
      top: 2300px; /* Ajusta según la posición del texto */
      width: 90%; /* Aumenta el ancho para centrar */
      color: white;
      text-align: center; /* Centraliza el texto */
      line-height: 1.5;
      font-size: 1.4rem; /* Ajusta el tamaño para que coincida con los otros textos */
      margin: 0 auto; /* Asegura que el texto esté centrado */
      opacity: 0; /* Inicialmente invisible */
      transform: translateY(20px); /* Coincide con la animación de otros textos */
      transition: opacity 1s ease-out, transform 1s ease-out;
    }
    .mensaje-derecha-adicional.visible {
      opacity: 1; /* Hace visible el texto */
      transform: translateY(0); /* Aplica la animación */
    }
    .cita-blanca {
      top: 5900px;
      width: 100%;
      text-align: center;
      color: black;
      padding: 0 2rem;
    }
    .amarillo {
      color: #ffff00;
      text-shadow: 0 0 10px #ffff00;
    }
    .neon-cyan {
      color: #22d3ee;
      text-shadow: 0 0 10px #22d3ee, 0 0 20px #22d3ee;
    }
    .neon-red {
      color: #ff0000;
      text-shadow: 0 0 10px #ff0000, 0 0 20px #ff0000;
    }
    .neon-pink {
      color: #c084fc;
      text-shadow: 0 0 10px #c084fc, 0 0 20px #c084fc;
    }
    .neon-yellow {
      color: #ffff00;
      text-shadow: 0 0 10px #ffff00, 0 0 20px #ffff00;
    }
    .estrella {
      position: absolute;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      box-shadow: 0 0 6px 2px rgba(255,255,255,0.6);
      background: white;
      opacity: 0.8;
      animation: parpadeo 2.5s infinite ease-in-out;
    }
    @keyframes parpadeo {
      0%, 100% { opacity: 0.3; transform: scale(0.9); }
      50% { opacity: 1; transform: scale(1.2); }
    }
    .nube-img {
      position: absolute;
      width: 300px;
      height: auto;
      opacity: 0.3;
      pointer-events: none;
    }
    .objeto-volador {
      position: absolute;
      width: 117px; /* 35% smaller than the original 180px */
      height: auto;
      pointer-events: none;
    }
    audio {
      display: none;
    }
    @keyframes temblor {
      0%, 100% { transform: translate(0, 0); }
      25% { transform: translate(-2px, -2px); }
      50% { transform: translate(2px, 2px); }
      75% { transform: translate(-2px, 2px); }
    }
    .temblor {
      display: inline-block; /* Necesario para aplicar transform */
      animation: temblor 0.5s infinite; /* Asegura que la animación se repita */
    }
    .imagenes-grandes {
      position: absolute;
      top: 2500px; /* Ajusta según la posición del texto */
      width: 100%; /* Asegura que el contenedor ocupe todo el ancho */
      display: flex;
      flex-direction: column; /* Coloca las imágenes una debajo de la otra */
      align-items: center; /* Centra las imágenes horizontalmente */
      gap: 115px; /* Reduce aún más el espaciado entre las imágenes */
    }
    .imagen-contenedor {
      display: flex;
      flex-direction: column; /* Coloca los elementos en columna */
      align-items: center; /* Centra los elementos horizontalmente */
      text-align: center; /* Centra el texto */
      margin-bottom: 50px; /* Espaciado entre imágenes */
      opacity: 0; /* Inicialmente invisible */
      transform: translateY(20px); /* Coincide con la animación de otros elementos */
      transition: opacity 1s ease-out, transform 1s ease-out;
    }
    .imagen-contenedor.visible {
      opacity: 1; /* Hace visible el contenedor */
      transform: translateY(0); /* Aplica la animación */
    }
    .imagenes-grandes img {
      width: 300px; /* Tamaño relativamente grande */
      height: auto;
      border: 2px solid white; /* Opcional: agrega un borde */
      border-radius: 10px; /* Opcional: redondea las esquinas */
      margin-bottom: 0; /* Asegura que no haya espacio entre la imagen y el título */
      display: block; /* Asegura que la imagen ocupe toda la línea */
      margin: 0 auto; /* Centra la imagen horizontalmente */
    }
    .titulo-imagen {
      font-size: 1.8rem;
      color: white;
      margin-top: 0; /* Mueve el título un poco hacia abajo */
      margin-bottom: 20px; /* Mantiene el espacio debajo del título */
      text-align: center;
    }
    .descripcion-imagen {
      font-size: 1.2rem;
      color: white;
      margin-top: 20px; /* Mantiene el espacio encima de la descripción */
      text-align: center;
      line-height: 1.5;
      padding: 0 20px;
    }
    .texto-mitad {
      position: absolute;
      top: 4700px; /* Ajusta según la posición deseada */
      width: 100%;
      text-align: center;
      font-size: 2rem;
      color: #ff1493; /* Cambia a rosa oscuro neon */
      text-shadow: 0 0 10px #ff1493, 0 0 20px #ff1493;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 1s ease-out, transform 1s ease-out;
    }
    .texto-mitad.visible {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>
  <div class="pantalla-inicio" id="pantallaInicio">
    <div class="intro-title">inteligencias múltiples</div>
    <div class="cerebro-container">
      <img src="cerebro.png" alt="">
      <img src="corazon.png" class="corazon" alt="">
    </div>
    <button id="continuarBtn">continuar</button>
    <div class="autor">De: Caleb Bermudez</div>
  </div>

  <audio id="audio1" src="Tentación (online-audio-converter.com).mp3" loop></audio>
  <audio id="audio2" src="aceptación. (online-audio-converter.com).mp3" loop></audio>

  <div class="infografia" id="infografia">
    <div class="titulo-principal" id="tituloNegro">
      todos somos bobos
      <div class="subtitulo">(en algunas cosas)</div>
    </div>
    <div class="cita-texto" id="citaTexto">
      “La inteligencia se mide con el coeficiente intelectual.”<br>
      — Mentalidad del siglo XX.
    </div>

    <div id="izquierdaContenido">
        <div class="mensaje-izquierda" id="mensajeIzquierda">
          Muchas veces nos podemos llegar a sentir bobos<br>
          si nos <span class="amarillo">comparamos</span> con personas que tienen<br>
          habilidades más desarrolladas que nosotros.<br>
          Pero lo que muchas veces ignoramos<br>
          es que no todos fuimos creados de la misma manera.<br>
          Y eso también está bien.
        </div>
        <div id="videoIzquierda">
          <video autoplay muted loop playsinline onerror="console.error('Error al cargar el video')">
            <source src="tu-video.mp4" type="video/mp4">
            <source src="tu-video.webm" type="video/webm">
            <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4"> <!-- Video de prueba -->
            Tu navegador no soporta la etiqueta de video.
          </video>
        </div>
    </div>

    <div class="mensaje-adicional" id="mensajeAdicional">
      Un estudio publicado en <em>Frontiers in Psychology</em> reveló que los estudiantes que creen que su
      <span class="neon-cyan">inteligencia</span> es algo fijo y no puede
      <span class="neon-red">cambiar</span> tienen más probabilidades de sufrir problemas de salud mental y altos niveles de estrés académico.
    </div>
    <div class="mensaje-derecha" id="mensajeDerecha">
      Esto lo relaciono directamente con la importancia de que los estudiantes conozcan de qué tratan las <span class="neon-pink">inteligencias múltiples</span>. <br><br>
      Sin esta información, es fácil que una persona piense que "<span class="temblor neon-red">es boba</span>" y que así será para siempre. <br><br>
      Esa creencia genera problemas emocionales graves, como baja autoestima, ansiedad o incluso depresión. <br><br>
      Cuando no entendemos que existen múltiples formas de ser inteligente, nos privamos de la oportunidad de descubrir y <span class="neon-yellow">valorar</span> nuestras propias capacidades.
    </div>
    <div class="mensaje-derecha-adicional" id="mensajeDerechaAdicional">
      Estos son algunos ejemplos de personas que fueron tachadas de bobas por no tener una inteligencia desarrollada, pero destacaron con aquella inteligencia que sí tenían desarrollada.
    </div>
    <div class="imagenes-grandes">
      <div class="imagen-contenedor" id="imagenMoises">
        <img src="Moises.jpg" alt="Espacio para imagen 1">
        <div class="titulo-imagen">Moshe Rabbenu (Moisés)</div>
        <div class="descripcion-imagen">
          Fue un hombre con una inteligencia lingüística muy poco desarrollada, pero una inteligencia intrapersonal muy desarrollada, lo que lo llevó a ser el líder más importante de su generación.
        </div>
      </div>
      <div class="imagen-contenedor" id="imagenSimone">
        <img src="Simone Biles.jpeg" alt="Espacio para imagen 2">
        <div class="titulo-imagen">Simone Biles</div>
        <div class="descripcion-imagen">
          Es una mujer con una inteligencia intrapersonal poco desarrollada pero una inteligencia corporal-cinestésica muy bien desarrollada, considerada una de las mejores gimnastas de todos los tiempos
        </div>
      </div>
      <div class="imagen-contenedor" id="imagenBeethoven">
        <img src="Beethoven.jpeg" alt="Espacio para imagen 3">
        <div class="titulo-imagen">Ludwig van Beethoven</div>
        <div class="descripcion-imagen">
          Fue un hombre con una baja inteligencia interpersonal desarrollada, pero una inteligencia musical tan desarrollada que fue capaz de crear piezas musicales aun estando sordo, marcando una nueva era en la música clásica
        </div>
      </div>
    </div>
    <div class="texto-mitad" id="textoMitad">¿Qué podemos aprender de esto?</div>
    <div id="videoDerecha">
      <video autoplay muted loop playsinline onerror="console.error('Error al cargar el video')">
        <source src="video_arbol_h264.mp4" type="video/mp4">
        <source src="video_arbol_optimizado.webm" type="video/webm">
        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4"> <!-- Video de prueba -->
        Tu navegador no soporta la etiqueta de video.
      </video>
    </div>
    <div class="titulo-blanco" id="tituloBlanco">
      todos somos inteligentes
      <div class="sub-blanco">(más de lo que crees)</div>
    </div>
    <div class="cita-blanca" id="citaBlanca">
      no existe una única forma de ser inteligente<br>
      — Howard Gardner
    </div>
    <div id="voladores"></div>
    <div id="nubeImgs"></div>
    <div id="estrellas"></div>
  </div>

  <script>
    const audio1 = document.getElementById('audio1');
    const audio2 = document.getElementById('audio2');
    const pantallaInicio = document.getElementById('pantallaInicio');
    const btnContinuar = document.getElementById('continuarBtn');
    const infografia = document.getElementById('infografia');

    btnContinuar.addEventListener('click', () => {
      pantallaInicio.classList.add('hidden');
      infografia.style.display = 'block';
      audio1.volume = 1;
      audio2.volume = 0;
      // Intenta iniciar audios aquí, el navegador puede requerir interacción
      audio1.play().catch(e => console.log("Audio 1 necesita interacción para iniciar"));
      audio2.play().catch(e => console.log("Audio 2 necesita interacción para iniciar"));
      audio2.pause(); // Asegura que el audio 2 comience pausado
      requestAnimationFrame(updateVolume);

      // --- Código para estrellas, voladores y nubes (sin cambios) ---
       const voladoresContainer = document.getElementById('voladores');
       const nubeImgs = document.getElementById('nubeImgs');
       const estrellas = document.getElementById('estrellas');

       for (let i = 0; i < 200; i++) {
         const star = document.createElement('div');
         star.className = 'estrella';
         star.style.top = `${Math.random() * 10000}px`;
         star.style.left = `${Math.random() * 1000}px`; // Ajusta si el ancho de infografia cambia
         estrellas.appendChild(star);
       }

       const rutas = ['1png.png', '2png.png', '3png.png', '4png.png', '5png.png'];
       const usados = [];
       rutas.forEach((nombre) => {
         const img = document.createElement('img');
         img.src = nombre;
         img.classList.add('objeto-volador');
         img.style.opacity = '0.3';
         voladoresContainer.appendChild(img);
         let posX, posY, attempts = 0;
         const anchoInfografia = infografia.offsetWidth; // Usar ancho real
         const anchoObjeto = 117;
         do {
           posX = Math.random() * (anchoInfografia - anchoObjeto);
           posY = Math.random() * (4500 - anchoObjeto); // Asumiendo 4500px como límite superior
           attempts++;
         } while (usados.some(p => Math.abs(p.x - posX) < 150 && Math.abs(p.y - posY) < 150) && attempts < 10);
         usados.push({ x: posX, y: posY });
         let velX = (Math.random() * 1.5 + 0.5) * (Math.random() < 0.5 ? 1 : -1);
         let velY = (Math.random() * 1.5 + 0.5) * (Math.random() < 0.5 ? 1 : -1);
         function mover() {
           const maxX = anchoInfografia - anchoObjeto;
           const maxY = 4500 - anchoObjeto;
           posX += velX;
           posY += velY;
           if (posX <= 0 || posX >= maxX) velX *= -1;
           if (posY <= 0 || posY >= maxY) velY *= -1;
           img.style.left = `${posX}px`;
           img.style.top = `${posY}px`;
           requestAnimationFrame(mover);
         }
         mover();
       });

       const tiposNube = ['nube1.png', 'nube2.png', 'nube3.png', 'nube4.png', 'nube5.png'];
       const cantidadNubes = 20;
       const anchoInfografiaNubes = infografia.offsetWidth;
       for (let i = 0; i < cantidadNubes; i++) {
         const nube = document.createElement('img');
         nube.classList.add('nube-img');
         nube.src = tiposNube[i % tiposNube.length];
         const escala = 0.8 + Math.random() * 1.2;
         let x = -300 + Math.random() * (anchoInfografiaNubes + 300); // Posición inicial más aleatoria
         const y = 5500 + Math.random() * 4500;
         const velocidad = 0.3 + Math.random() * 0.4;
         nube.style.top = `${y}px`;
         nube.style.transform = `scale(${escala})`;
         nube.style.left = `${x}px`;
         nubeImgs.appendChild(nube);
         function animarNube() {
           x += velocidad;
           if (x > anchoInfografiaNubes) x = -300; // Regresa cuando sale por la derecha
           nube.style.left = `${x}px`;
           requestAnimationFrame(animarNube);
         }
         animarNube();
       }
       // --- Fin código para estrellas, voladores y nubes ---

    }); // Fin de btnContinuar.addEventListener

    // --- Función updateVolume (sin cambios) ---
     function updateVolume() {
       const y = window.scrollY;
       if (!audio1.paused || !audio2.paused) { // Solo actualiza si alguno está sonando (o intentando)
           if (y < 4500) {
               audio1.volume = Math.min(1, audio1.volume + 0.02); // Fade in/out suave
               audio2.volume = Math.max(0, audio2.volume - 0.02);
               if (audio2.volume === 0) audio2.pause();
               if (audio1.paused && audio1.volume > 0) audio1.play().catch(e => {});
           } else if (y >= 5500) {
               audio1.volume = Math.max(0, audio1.volume - 0.02);
               audio2.volume = Math.min(1, audio2.volume + 0.02);
                if (audio1.volume === 0) audio1.pause();
                if (audio2.paused && audio2.volume > 0) audio2.play().catch(e => {});
           } else {
               const ratio = (y - 4500) / 1000;
               audio1.volume = 1 - ratio;
               audio2.volume = ratio;
               if (audio1.paused && audio1.volume > 0) audio1.play().catch(e => {});
               if (audio2.paused && audio2.volume > 0) audio2.play().catch(e => {});
           }
       }
       requestAnimationFrame(updateVolume);
     }
    // --- Fin función updateVolume ---

    // --- IntersectionObserver MODIFICADO ---
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        // Encuentra el video DENTRO del target del observer (que es #izquierdaContenido)
        const videoElement = entry.target.querySelector('video');

        if (entry.isIntersecting) {
          // El elemento está visible
          entry.target.classList.add('visible');
          if (videoElement) {
            videoElement.currentTime = 0; // Reinicia el video al principio
            const playPromise = videoElement.play();
            if (playPromise !== undefined) {
                playPromise.catch(error => {
                    // Autoplay fue prevenido, usualmente porque no estaba 'muted'
                    // o por políticas del navegador. Como está muted, es raro llegar aquí.
                    console.error("Error al intentar reproducir video:", error);
                });
            }
          }
        } else {
          // El elemento ya no está visible
          entry.target.classList.remove('visible'); // Opcional: quitar la clase si quieres que la animación se revierta
          if (videoElement) {
            videoElement.pause(); // Pausa el video
          }
        }
      });
    }, {
       threshold: 0.4 // Porcentaje del elemento que debe estar visible para disparar (ajusta si es necesario)
    });

    // Observa los elementos necesarios
    observer.observe(document.getElementById('citaTexto'));
    observer.observe(document.getElementById('izquierdaContenido')); // Este controla la aparición del contenedor y el play/pause del video
    observer.observe(document.getElementById('mensajeAdicional'));
    observer.observe(document.getElementById('mensajeDerecha'));
    observer.observe(document.getElementById('citaBlanca'));
    observer.observe(document.getElementById('videoDerecha')); // Observa el nuevo contenedor de video
    observer.observe(document.getElementById('mensajeDerechaAdicional')); // Observa el nuevo texto para animación
    observer.observe(document.getElementById('imagenMoises'));
    observer.observe(document.getElementById('imagenSimone'));
    observer.observe(document.getElementById('imagenBeethoven'));
    observer.observe(document.getElementById('textoMitad'));
    // --- Fin IntersectionObserver ---

  </script>
</body>
</html>
